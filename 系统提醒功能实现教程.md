# Android ç³»ç»Ÿæé†’åŠŸèƒ½å®ç°è¯¦ç»†æ•™ç¨‹

## ğŸ“‹ ç›®å½•
1. [åŠŸèƒ½æ¦‚è¿°](#åŠŸèƒ½æ¦‚è¿°)
2. [å®ç°åŸç†](#å®ç°åŸç†)
3. [æ­¥éª¤è¯¦è§£](#æ­¥éª¤è¯¦è§£)
4. [ä»£ç è¯´æ˜](#ä»£ç è¯´æ˜)
5. [æµ‹è¯•æ–¹æ³•](#æµ‹è¯•æ–¹æ³•)
6. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

å®ç°çš„åŠŸèƒ½ï¼šåœ¨æ·»åŠ æé†’æ—¶ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©æ˜¯å¦å¯ç”¨ç³»ç»Ÿæé†’ï¼Œå¹¶è®¾ç½®æå‰æé†’æ—¶é—´ã€‚åˆ°ç‚¹æ—¶ç³»ç»Ÿä¼šå“é“ƒå¹¶æ˜¾ç¤ºé€šçŸ¥ã€‚

### æ ¸å¿ƒç»„ä»¶
- **AlarmManager**ï¼šAndroid ç³»ç»Ÿå®šæ—¶å™¨ï¼Œç”¨äºåœ¨æŒ‡å®šæ—¶é—´è§¦å‘æé†’
- **BroadcastReceiver**ï¼šæ¥æ”¶ AlarmManager çš„å¹¿æ’­
- **NotificationManager**ï¼šæ˜¾ç¤ºç³»ç»Ÿé€šçŸ¥
- **PendingIntent**ï¼šå°è£…è¦æ‰§è¡Œçš„æ„å›¾

---

## ğŸ”§ å®ç°åŸç†

### å·¥ä½œæµç¨‹

```
ç”¨æˆ·æ·»åŠ æé†’
    â†“
è®¾ç½® AlarmManagerï¼ˆè®¡ç®—æé†’æ—¶é—´ = å¼€å§‹æ—¶é—´ - æå‰åˆ†é’Ÿæ•°ï¼‰
    â†“
åˆ°ç‚¹æ—¶ AlarmManager è§¦å‘
    â†“
AlarmReceiver æ¥æ”¶å¹¿æ’­
    â†“
NotificationHelper æ˜¾ç¤ºé€šçŸ¥
    â†“
ç”¨æˆ·çœ‹åˆ°é€šçŸ¥å¹¶å¬åˆ°é“ƒå£°
```

### æ—¶é—´è®¡ç®—ç¤ºä¾‹

å‡è®¾ï¼š
- æé†’æ—¥æœŸï¼š2025-01-15
- å¼€å§‹æ—¶é—´ï¼š14:30
- æå‰æ—¶é—´ï¼š5 åˆ†é’Ÿ

è®¡ç®—è¿‡ç¨‹ï¼š
1. å°†æ—¥æœŸå’Œæ—¶é—´ç»„åˆï¼š2025-01-15 14:30
2. å‡å»æå‰æ—¶é—´ï¼š14:30 - 5åˆ†é’Ÿ = 14:25
3. è½¬æ¢ä¸ºæ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰
4. è®¾ç½®åˆ° AlarmManager

---

## ğŸ“ æ­¥éª¤è¯¦è§£

### æ­¥éª¤ 1ï¼šæ›´æ–°æ•°æ®æ¨¡å‹ï¼ˆReminder.javaï¼‰

**ç›®çš„**ï¼šå­˜å‚¨æé†’çš„å¯ç”¨çŠ¶æ€å’Œæå‰æ—¶é—´

```java
// æ·»åŠ ä¸¤ä¸ªæ–°å­—æ®µ
private boolean enableNotification;  // æ˜¯å¦å¯ç”¨æé†’
private int notificationMinutesBefore; // æå‰å¤šå°‘åˆ†é’Ÿæé†’

// åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–
public Reminder(...) {
    // ... å…¶ä»–ä»£ç 
    this.enableNotification = false;  // é»˜è®¤å…³é—­
    this.notificationMinutesBefore = 5; // é»˜è®¤æå‰5åˆ†é’Ÿ
}

// æ·»åŠ  getter å’Œ setter æ–¹æ³•
public boolean isEnableNotification() { return enableNotification; }
public void setEnableNotification(boolean enableNotification) { ... }
public int getNotificationMinutesBefore() { return notificationMinutesBefore; }
public void setNotificationMinutesBefore(int minutes) { ... }
```

**ä¸ºä»€ä¹ˆéœ€è¦è¿™äº›å­—æ®µï¼Ÿ**
- `enableNotification`ï¼šç”¨æˆ·å¯ä»¥é€‰æ‹©æ˜¯å¦å¯ç”¨æé†’
- `notificationMinutesBefore`ï¼šç”¨æˆ·å¯ä»¥è®¾ç½®æå‰æé†’æ—¶é—´ï¼ˆå¦‚æå‰5åˆ†é’Ÿã€10åˆ†é’Ÿç­‰ï¼‰

---

### æ­¥éª¤ 2ï¼šæ›´æ–° UI ç•Œé¢ï¼ˆdialog_reminder.xmlï¼‰

**ç›®çš„**ï¼šè®©ç”¨æˆ·å¯ä»¥é€‰æ‹©æ˜¯å¦å¯ç”¨æé†’å¹¶è®¾ç½®æå‰æ—¶é—´

```xml
<!-- æ·»åŠ æé†’å¼€å…³ -->
<SwitchMaterial
    android:id="@+id/notificationSwitch"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content" />

<!-- æ·»åŠ æå‰æ—¶é—´é€‰æ‹©å™¨ï¼ˆé»˜è®¤éšè—ï¼‰ -->
<LinearLayout
    android:id="@+id/notificationTimeLayout"
    android:visibility="gone">
    <TextInputEditText
        android:id="@+id/notificationTimeEdit"
        android:inputType="number" />
</LinearLayout>
```

**UI é€»è¾‘**ï¼š
- å½“å¼€å…³æ‰“å¼€æ—¶ï¼Œæ˜¾ç¤ºæå‰æ—¶é—´é€‰æ‹©å™¨
- å½“å¼€å…³å…³é—­æ—¶ï¼Œéšè—æå‰æ—¶é—´é€‰æ‹©å™¨

---

### æ­¥éª¤ 3ï¼šåˆ›å»º AlarmHelper å·¥å…·ç±»

**ç›®çš„**ï¼šå°è£…è®¾ç½®å’Œå–æ¶ˆæé†’çš„é€»è¾‘

#### 3.1 setAlarm() æ–¹æ³• - è®¾ç½®æé†’

```java
public static void setAlarm(Context context, Reminder reminder) {
    // 1. æ£€æŸ¥æé†’æ˜¯å¦å¯ç”¨
    if (!reminder.isEnableNotification()) {
        return; // æœªå¯ç”¨ï¼Œç›´æ¥è¿”å›
    }
    
    // 2. è§£ææ—¥æœŸå’Œæ—¶é—´
    String dateStr = reminder.getDate();  // "2025-01-15"
    String timeStr = reminder.getStartTime(); // "14:30"
    
    // 3. ç»„åˆæ—¥æœŸå’Œæ—¶é—´
    Calendar calendar = Calendar.getInstance();
    calendar.set(2025, 0, 15);  // å¹´ã€æœˆï¼ˆ0-11ï¼‰ã€æ—¥
    calendar.set(Calendar.HOUR_OF_DAY, 14);
    calendar.set(Calendar.MINUTE, 30);
    
    // 4. å‡å»æå‰æ—¶é—´
    int minutesBefore = reminder.getNotificationMinutesBefore();
    calendar.add(Calendar.MINUTE, -minutesBefore);
    // ç»“æœï¼š14:30 - 5åˆ†é’Ÿ = 14:25
    
    // 5. æ£€æŸ¥æ—¶é—´æ˜¯å¦å·²è¿‡æœŸ
    if (calendar.getTimeInMillis() <= System.currentTimeMillis()) {
        return; // å·²è¿‡æœŸï¼Œä¸è®¾ç½®
    }
    
    // 6. åˆ›å»º Intentï¼ˆå‘Šè¯‰ç³»ç»Ÿè¦åšä»€ä¹ˆï¼‰
    Intent intent = new Intent(context, AlarmReceiver.class);
    intent.putExtra("reminder_id", reminder.getId());
    
    // 7. åˆ›å»º PendingIntentï¼ˆå»¶è¿Ÿæ‰§è¡Œçš„ Intentï¼‰
    PendingIntent pendingIntent = PendingIntent.getBroadcast(
        context,
        reminder.getId().hashCode(), // å”¯ä¸€ID
        intent,
        PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE
    );
    
    // 8. è®¾ç½® AlarmManager
    AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
    alarmManager.setExactAndAllowWhileIdle(
        AlarmManager.RTC_WAKEUP,  // å”¤é†’è®¾å¤‡
        calendar.getTimeInMillis(), // è§¦å‘æ—¶é—´
        pendingIntent
    );
}
```

**å…³é”®ç‚¹è§£é‡Š**ï¼š
- `RTC_WAKEUP`ï¼šå³ä½¿è®¾å¤‡ä¼‘çœ ä¹Ÿä¼šå”¤é†’å¹¶è§¦å‘
- `setExactAndAllowWhileIdle`ï¼šç²¾ç¡®æ—¶é—´ï¼Œå³ä½¿è®¾å¤‡å¤„äºçœç”µæ¨¡å¼ä¹Ÿä¼šè§¦å‘
- `PendingIntent`ï¼šå°è£…è¦æ‰§è¡Œçš„ Intentï¼Œå¯ä»¥å»¶è¿Ÿæ‰§è¡Œ

#### 3.2 cancelAlarm() æ–¹æ³• - å–æ¶ˆæé†’

```java
public static void cancelAlarm(Context context, Reminder reminder) {
    // 1. åˆ›å»ºç›¸åŒçš„ Intent å’Œ PendingIntent
    Intent intent = new Intent(context, AlarmReceiver.class);
    intent.putExtra("reminder_id", reminder.getId());
    
    PendingIntent pendingIntent = PendingIntent.getBroadcast(
        context,
        reminder.getId().hashCode(),
        intent,
        PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE
    );
    
    // 2. å–æ¶ˆæé†’
    AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);
    alarmManager.cancel(pendingIntent);
}
```

**ä¸ºä»€ä¹ˆéœ€è¦ç›¸åŒçš„ PendingIntentï¼Ÿ**
- AlarmManager é€šè¿‡ PendingIntent æ¥è¯†åˆ«è¦å–æ¶ˆçš„æé†’
- Intent å’Œ requestCode å¿…é¡»å®Œå…¨ç›¸åŒæ‰èƒ½å–æ¶ˆ

---

### æ­¥éª¤ 4ï¼šåˆ›å»º AlarmReceiver å¹¿æ’­æ¥æ”¶å™¨

**ç›®çš„**ï¼šæ¥æ”¶ AlarmManager çš„å¹¿æ’­ï¼Œç„¶åæ˜¾ç¤ºé€šçŸ¥

```java
public class AlarmReceiver extends BroadcastReceiver {
    @Override
    public void onReceive(Context context, Intent intent) {
        // 1. è·å–æé†’ID
        String reminderId = intent.getStringExtra("reminder_id");
        
        // 2. ä»å­˜å‚¨ä¸­åŠ è½½æé†’ä¿¡æ¯
        ReminderManager reminderManager = new ReminderManager(context);
        Reminder reminder = findReminderById(reminderManager, reminderId);
        
        // 3. æ£€æŸ¥æé†’æ˜¯å¦ä»ç„¶æœ‰æ•ˆï¼ˆæœªè¢«åˆ é™¤æˆ–å®Œæˆï¼‰
        if (reminder == null || reminder.isCompleted() || reminder.isDeleted()) {
            return; // æé†’å·²å¤±æ•ˆï¼Œä¸æ˜¾ç¤ºé€šçŸ¥
        }
        
        // 4. æ˜¾ç¤ºé€šçŸ¥
        NotificationHelper.showReminderNotification(context, reminder);
    }
}
```

**å·¥ä½œæµç¨‹**ï¼š
1. AlarmManager åœ¨æŒ‡å®šæ—¶é—´è§¦å‘
2. ç³»ç»Ÿå‘é€å¹¿æ’­åˆ° AlarmReceiver
3. AlarmReceiver æ¥æ”¶å¹¿æ’­å¹¶å¤„ç†
4. è°ƒç”¨ NotificationHelper æ˜¾ç¤ºé€šçŸ¥

---

### æ­¥éª¤ 5ï¼šåˆ›å»º NotificationHelper é€šçŸ¥åŠ©æ‰‹

**ç›®çš„**ï¼šç®¡ç†é€šçŸ¥æ¸ é“å’Œæ˜¾ç¤ºé€šçŸ¥

#### 5.1 åˆ›å»ºé€šçŸ¥æ¸ é“ï¼ˆAndroid 8.0+ å¿…éœ€ï¼‰

```java
public static void createNotificationChannel(Context context) {
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
        NotificationChannel channel = new NotificationChannel(
            CHANNEL_ID,
            "Reminder Notifications",
            NotificationManager.IMPORTANCE_HIGH  // é«˜ä¼˜å…ˆçº§ï¼Œä¼šå“é“ƒ
        );
        channel.setDescription("Notifications for calendar reminders");
        channel.enableVibration(true);  // å¯ç”¨éœ‡åŠ¨
        channel.enableLights(true);     // å¯ç”¨æŒ‡ç¤ºç¯
        
        // è®¾ç½®é€šçŸ¥å£°éŸ³
        Uri soundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);
        channel.setSound(soundUri, null);
        
        NotificationManager manager = context.getSystemService(NotificationManager.class);
        manager.createNotificationChannel(channel);
    }
}
```

**ä¸ºä»€ä¹ˆéœ€è¦é€šçŸ¥æ¸ é“ï¼Ÿ**
- Android 8.0+ è¦æ±‚æ‰€æœ‰é€šçŸ¥å¿…é¡»å±äºæŸä¸ªæ¸ é“
- ç”¨æˆ·å¯ä»¥åœ¨ç³»ç»Ÿè®¾ç½®ä¸­æŒ‰æ¸ é“ç®¡ç†é€šçŸ¥

#### 5.2 æ˜¾ç¤ºé€šçŸ¥

```java
public static void showReminderNotification(Context context, Reminder reminder) {
    // 1. åˆ›å»ºç‚¹å‡»é€šçŸ¥åæ‰“å¼€çš„ Intent
    Intent intent = new Intent(context, MainActivity.class);
    PendingIntent pendingIntent = PendingIntent.getActivity(
        context, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE
    );
    
    // 2. æ„å»ºé€šçŸ¥
    NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_ID)
        .setSmallIcon(android.R.drawable.ic_dialog_info)  // å°å›¾æ ‡
        .setContentTitle("Reminder: " + reminder.getTitle())  // æ ‡é¢˜
        .setContentText(reminder.getContent())  // å†…å®¹
        .setPriority(NotificationCompat.PRIORITY_HIGH)  // é«˜ä¼˜å…ˆçº§
        .setDefaults(NotificationCompat.DEFAULT_ALL)  // é»˜è®¤å£°éŸ³ã€éœ‡åŠ¨ã€ç¯å…‰
        .setAutoCancel(true)  // ç‚¹å‡»åè‡ªåŠ¨æ¶ˆå¤±
        .setContentIntent(pendingIntent);  // ç‚¹å‡»åæ‰“å¼€åº”ç”¨
    
    // 3. æ˜¾ç¤ºé€šçŸ¥
    NotificationManager manager = context.getSystemService(NotificationManager.class);
    int notificationId = NOTIFICATION_ID_BASE + reminder.getId().hashCode();
    manager.notify(notificationId, builder.build());
}
```

**é€šçŸ¥ç‰¹æ€§**ï¼š
- é«˜ä¼˜å…ˆçº§ï¼šä¼šå“é“ƒã€éœ‡åŠ¨ã€æ˜¾ç¤ºæŒ‡ç¤ºç¯
- è‡ªåŠ¨å–æ¶ˆï¼šç‚¹å‡»åè‡ªåŠ¨æ¶ˆå¤±
- å¯ç‚¹å‡»ï¼šç‚¹å‡»åæ‰“å¼€åº”ç”¨

---

### æ­¥éª¤ 6ï¼šåœ¨ MainActivity ä¸­é›†æˆ

#### 6.1 æ›´æ–°å¯¹è¯æ¡†ï¼Œæ·»åŠ æé†’è®¾ç½®

```java
private void showReminderDialogInternal(Reminder reminder) {
    View dialogView = getLayoutInflater().inflate(R.layout.dialog_reminder, null);
    
    // è·å– UI æ§ä»¶
    SwitchMaterial notificationSwitch = dialogView.findViewById(R.id.notificationSwitch);
    LinearLayout notificationTimeLayout = dialogView.findViewById(R.id.notificationTimeLayout);
    TextInputEditText notificationTimeEdit = dialogView.findViewById(R.id.notificationTimeEdit);
    
    // å¦‚æœæ˜¯ç¼–è¾‘æ¨¡å¼ï¼ŒåŠ è½½ç°æœ‰è®¾ç½®
    if (isEdit) {
        notificationSwitch.setChecked(reminder.isEnableNotification());
        notificationTimeEdit.setText(String.valueOf(reminder.getNotificationMinutesBefore()));
    }
    
    // æ ¹æ®å¼€å…³çŠ¶æ€æ˜¾ç¤º/éšè—æ—¶é—´é€‰æ‹©å™¨
    notificationSwitch.setOnCheckedChangeListener((buttonView, isChecked) -> {
        notificationTimeLayout.setVisibility(isChecked ? View.VISIBLE : View.GONE);
    });
    
    // ä¿å­˜æ—¶å¤„ç†æé†’è®¾ç½®
    // ... ä¿å­˜ä»£ç 
    boolean enableNotification = notificationSwitch.isChecked();
    int minutesBefore = Integer.parseInt(notificationTimeEdit.getText().toString());
    
    reminder.setEnableNotification(enableNotification);
    reminder.setNotificationMinutesBefore(minutesBefore);
    
    // å¦‚æœå¯ç”¨äº†æé†’ï¼Œè®¾ç½® AlarmManager
    if (enableNotification && !startTime.isEmpty()) {
        AlarmHelper.setAlarm(this, reminder);
    }
}
```

#### 6.2 åº”ç”¨å¯åŠ¨æ—¶æ¢å¤æ‰€æœ‰æé†’

```java
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    // ... å…¶ä»–åˆå§‹åŒ–ä»£ç 
    
    // åˆ›å»ºé€šçŸ¥æ¸ é“
    NotificationHelper.createNotificationChannel(this);
    
    // æ¢å¤æ‰€æœ‰å·²å¯ç”¨çš„æé†’
    restoreAllAlarms();
}

private void restoreAllAlarms() {
    List<Reminder> allReminders = reminderManager.getAllReminders();
    for (Reminder reminder : allReminders) {
        // åªæ¢å¤æœ‰æ•ˆçš„ã€å·²å¯ç”¨çš„æé†’
        if (!reminder.isCompleted() && !reminder.isDeleted() 
                && reminder.isEnableNotification() 
                && !reminder.getStartTime().isEmpty()) {
            AlarmHelper.setAlarm(this, reminder);
        }
    }
}
```

**ä¸ºä»€ä¹ˆéœ€è¦æ¢å¤æé†’ï¼Ÿ**
- åº”ç”¨é‡å¯åï¼ŒAlarmManager ä¸­çš„æé†’ä¼šä¸¢å¤±
- éœ€è¦åœ¨åº”ç”¨å¯åŠ¨æ—¶é‡æ–°è®¾ç½®æ‰€æœ‰æé†’

---

### æ­¥éª¤ 7ï¼šé…ç½® AndroidManifest.xml

#### 7.1 æ·»åŠ æƒé™

```xml
<manifest>
    <!-- é€šçŸ¥æƒé™ï¼ˆAndroid 13+ï¼‰ -->
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
    
    <!-- ç²¾ç¡®æé†’æƒé™ -->
    <uses-permission android:name="android.permission.SCHEDULE_EXACT_ALARM" />
    <uses-permission android:name="android.permission.USE_EXACT_ALARM" />
    
    <!-- å”¤é†’è®¾å¤‡æƒé™ -->
    <uses-permission android:name="android.permission.WAKE_LOCK" />
</manifest>
```

#### 7.2 æ³¨å†Œ BroadcastReceiver

```xml
<application>
    <!-- ... å…¶ä»–ç»„ä»¶ -->
    
    <receiver
        android:name=".AlarmReceiver"
        android:enabled="true"
        android:exported="false" />
</application>
```

**å‚æ•°è¯´æ˜**ï¼š
- `android:enabled="true"`ï¼šå¯ç”¨æ¥æ”¶å™¨
- `android:exported="false"`ï¼šä¸å…è®¸å…¶ä»–åº”ç”¨è®¿é—®

---

## ğŸ’» ä»£ç è¯´æ˜

### å…³é”®ç±»å’Œæ–¹æ³•

| ç±»/æ–¹æ³• | ä½œç”¨ | è°ƒç”¨æ—¶æœº |
|---------|------|----------|
| `AlarmHelper.setAlarm()` | è®¾ç½®æé†’ | ä¿å­˜æé†’æ—¶ |
| `AlarmHelper.cancelAlarm()` | å–æ¶ˆæé†’ | åˆ é™¤/å®Œæˆæé†’æ—¶ |
| `AlarmReceiver.onReceive()` | æ¥æ”¶æé†’ | AlarmManager è§¦å‘æ—¶ |
| `NotificationHelper.showReminderNotification()` | æ˜¾ç¤ºé€šçŸ¥ | AlarmReceiver æ¥æ”¶æ—¶ |
| `restoreAllAlarms()` | æ¢å¤æé†’ | åº”ç”¨å¯åŠ¨æ—¶ |

### æ•°æ®æµ

```
ç”¨æˆ·æ“ä½œ â†’ MainActivity â†’ AlarmHelper â†’ AlarmManager
                                    â†“
                              åˆ°ç‚¹æ—¶è§¦å‘
                                    â†“
                            AlarmReceiver â†’ NotificationHelper â†’ ç”¨æˆ·çœ‹åˆ°é€šçŸ¥
```

---

## ğŸ§ª æµ‹è¯•æ–¹æ³•

### æµ‹è¯•æ­¥éª¤

1. **æµ‹è¯•æ·»åŠ æé†’**
   ```
   1. æ‰“å¼€åº”ç”¨
   2. ç‚¹å‡»"Add Reminder"
   3. å¡«å†™æ ‡é¢˜å’Œå†…å®¹
   4. è®¾ç½®å¼€å§‹æ—¶é—´ä¸ºå½“å‰æ—¶é—´ + 1 åˆ†é’Ÿï¼ˆå¦‚ï¼š14:31ï¼Œå½“å‰æ˜¯14:30ï¼‰
   5. æ‰“å¼€"Enable System Reminder"å¼€å…³
   6. é€‰æ‹©æå‰æ—¶é—´ï¼š0 åˆ†é’Ÿï¼ˆç«‹å³æé†’ï¼‰
   7. ä¿å­˜æé†’
   8. ç­‰å¾… 1 åˆ†é’Ÿ
   9. åº”è¯¥çœ‹åˆ°é€šçŸ¥å¹¶å¬åˆ°é“ƒå£°
   ```

2. **æµ‹è¯•æå‰æé†’**
   ```
   1. è®¾ç½®å¼€å§‹æ—¶é—´ä¸ºå½“å‰æ—¶é—´ + 10 åˆ†é’Ÿ
   2. è®¾ç½®æå‰æ—¶é—´ä¸º 5 åˆ†é’Ÿ
   3. ä¿å­˜æé†’
   4. ç­‰å¾… 5 åˆ†é’Ÿï¼ˆä¸æ˜¯ 10 åˆ†é’Ÿï¼‰
   5. åº”è¯¥æ”¶åˆ°æé†’
   ```

3. **æµ‹è¯•å–æ¶ˆæé†’**
   ```
   1. æ·»åŠ ä¸€ä¸ªæé†’ï¼ˆå¯ç”¨é€šçŸ¥ï¼‰
   2. åˆ é™¤è¿™ä¸ªæé†’
   3. ç­‰å¾…åˆ°æé†’æ—¶é—´
   4. ä¸åº”è¯¥æ”¶åˆ°é€šçŸ¥
   ```

4. **æµ‹è¯•åº”ç”¨é‡å¯**
   ```
   1. æ·»åŠ å‡ ä¸ªå¯ç”¨äº†é€šçŸ¥çš„æé†’
   2. å®Œå…¨å…³é—­åº”ç”¨
   3. é‡æ–°æ‰“å¼€åº”ç”¨
   4. ç­‰å¾…åˆ°æé†’æ—¶é—´
   5. åº”è¯¥æ­£å¸¸æ”¶åˆ°é€šçŸ¥
   ```

---

## â“ å¸¸è§é—®é¢˜

### Q1: æé†’æ²¡æœ‰è§¦å‘ï¼Ÿ
**å¯èƒ½åŸå› **ï¼š
- æ—¶é—´å·²è¿‡æœŸï¼ˆæ£€æŸ¥æ—¶é—´è®¡ç®—é€»è¾‘ï¼‰
- æƒé™æœªæˆäºˆï¼ˆæ£€æŸ¥ AndroidManifest.xmlï¼‰
- è®¾å¤‡å¤„äºæ·±åº¦ä¼‘çœ ï¼ˆæŸäº›è®¾å¤‡ä¼šé™åˆ¶åå°æ´»åŠ¨ï¼‰
- AlarmReceiver æœªæ³¨å†Œï¼ˆæ£€æŸ¥ AndroidManifest.xmlï¼‰

**è§£å†³æ–¹æ³•**ï¼š
- æ£€æŸ¥ Logcat æ—¥å¿—
- ç¡®è®¤æƒé™å·²æˆäºˆ
- æµ‹è¯•æ—¶å°†æ—¶é—´è®¾ç½®ä¸ºå½“å‰æ—¶é—´ + 1 åˆ†é’Ÿ

### Q2: é€šçŸ¥æ²¡æœ‰å£°éŸ³ï¼Ÿ
**å¯èƒ½åŸå› **ï¼š
- é€šçŸ¥æ¸ é“ä¼˜å…ˆçº§è®¾ç½®è¿‡ä½
- è®¾å¤‡é™éŸ³æ¨¡å¼
- é€šçŸ¥æ¸ é“å£°éŸ³æœªè®¾ç½®

**è§£å†³æ–¹æ³•**ï¼š
- æ£€æŸ¥ `NotificationChannel` çš„ `IMPORTANCE_HIGH`
- æ£€æŸ¥è®¾å¤‡éŸ³é‡è®¾ç½®
- ç¡®è®¤ `setSound()` å·²è°ƒç”¨

### Q3: åº”ç”¨é‡å¯åæé†’å¤±æ•ˆï¼Ÿ
**å¯èƒ½åŸå› **ï¼š
- æœªåœ¨ `onCreate()` ä¸­è°ƒç”¨ `restoreAllAlarms()`
- æé†’æ•°æ®æœªæ­£ç¡®ä¿å­˜

**è§£å†³æ–¹æ³•**ï¼š
- ç¡®è®¤ `restoreAllAlarms()` å·²è°ƒç”¨
- æ£€æŸ¥ `ReminderManager` çš„ä¿å­˜é€»è¾‘

### Q4: å¦‚ä½•è°ƒè¯•æé†’ï¼Ÿ
**è°ƒè¯•æ–¹æ³•**ï¼š
```java
// åœ¨ AlarmHelper.setAlarm() ä¸­æ·»åŠ æ—¥å¿—
Log.d(TAG, "Setting alarm for: " + calendar.getTime());
Log.d(TAG, "Current time: " + new Date());
Log.d(TAG, "Time difference: " + (calendar.getTimeInMillis() - System.currentTimeMillis()) + " ms");

// åœ¨ AlarmReceiver.onReceive() ä¸­æ·»åŠ æ—¥å¿—
Log.d(TAG, "Alarm received for reminder: " + reminderId);
```

---

## ğŸ“š æ‰©å±•åŠŸèƒ½å»ºè®®

1. **é‡å¤æé†’**ï¼šæ¯å¤©ã€æ¯å‘¨é‡å¤
2. **è‡ªå®šä¹‰é“ƒå£°**ï¼šè®©ç”¨æˆ·é€‰æ‹©é€šçŸ¥å£°éŸ³
3. **æé†’å†å²**ï¼šè®°å½•å·²è§¦å‘çš„æé†’
4. **æ™ºèƒ½æé†’**ï¼šæ ¹æ®ä½ç½®ã€æ—¶é—´æ™ºèƒ½è°ƒæ•´
5. **æé†’åˆ†ç»„**ï¼šå°†ç›¸å…³æé†’åˆ†ç»„æ˜¾ç¤º

---

## ğŸ“ æ€»ç»“

å®ç°ç³»ç»Ÿæé†’åŠŸèƒ½çš„æ ¸å¿ƒæ­¥éª¤ï¼š

1. âœ… æ›´æ–°æ•°æ®æ¨¡å‹ï¼Œå­˜å‚¨æé†’è®¾ç½®
2. âœ… æ›´æ–° UIï¼Œè®©ç”¨æˆ·é€‰æ‹©æé†’é€‰é¡¹
3. âœ… åˆ›å»º AlarmHelperï¼Œå°è£…æé†’è®¾ç½®é€»è¾‘
4. âœ… åˆ›å»º AlarmReceiverï¼Œæ¥æ”¶æé†’å¹¿æ’­
5. âœ… åˆ›å»º NotificationHelperï¼Œæ˜¾ç¤ºé€šçŸ¥
6. âœ… åœ¨ MainActivity ä¸­é›†æˆæé†’åŠŸèƒ½
7. âœ… é…ç½®æƒé™å’Œ BroadcastReceiver
8. âœ… åº”ç”¨å¯åŠ¨æ—¶æ¢å¤æé†’

**å…³é”®ç‚¹**ï¼š
- æ—¶é—´è®¡ç®—è¦å‡†ç¡®ï¼ˆæ—¥æœŸ + æ—¶é—´ - æå‰æ—¶é—´ï¼‰
- PendingIntent çš„ requestCode è¦å”¯ä¸€
- é€šçŸ¥æ¸ é“è¦æ­£ç¡®é…ç½®
- åº”ç”¨é‡å¯åè¦æ¢å¤æé†’

å¸Œæœ›è¿™ä¸ªæ•™ç¨‹èƒ½å¸®åŠ©ä½ ç†è§£æ•´ä¸ªå®ç°è¿‡ç¨‹ï¼ğŸ‰

